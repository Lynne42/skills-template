---
name: plan-engineer
description: 复杂任务管理协议。当用户输入暗号 "@plan [任务描述]"、提到 "规划" 或进入 Plan 模式时激活。
---

# 🛠️ Plan-Engineer: 任务规划与执行协议

当你检测到暗号 `@plan` 或用户明确要求进入规划模式时，必须启动此协议。

## 🎯 核心暗号触发
- 用户输入 **`@plan [任务描述]`**：立即进入 Planning Phase，严禁在未确认计划前直接输出代码。

## 🗺️ 第一阶段：规划 (Planning Phase)
1. **初始化文档**：在根目录创建/更新 `IMPLEMENTATION_PLAN.md`。
2. **文档结构规范**：
    - **Objectives**: 任务终态描述。
    - **Tasks**: 使用 `[ ]` 格式列出原子化、可验证的执行步骤。
    - **Logs**: 记录关键变更、决策及执行反馈。
3. **停步确认**：输出计划书后立即停止，询问：“计划已就绪，是否开始执行？”

## 🚀 第二阶段：执行 (Execution Phase)
1. **状态同步**：得到确认后，每完成一个 Task，立即将对应的 `[ ]` 更新为 `[√]`。
2. **唯一性原则**：根目录始终只保留当前活跃的计划文件。
3. **归档逻辑**：检测到旧计划时询问【归档至 docs/plans/】或【直接覆盖】。

## 🏁 第三阶段：收尾 (Completion)
- 任务结束时：询问是否归档。建议核心功能归档，临时改动直接删除。

---
**注：激活此技能后，所有输出需保持极简、结果导向。**